<launch>
    <arg name="mode" default="0"/>
    <!--slam is 0, navigation is 1 -->
    <group>
        <arg name="set_port_imu" default="/dev/ttyIMU"/>
        <arg name="set_imu_frame_id" default="imu_link"/>
        <arg name="set_port_lidar" default="/dev/ttyLIDAR"/>
        <arg name="set_lidar_frame_id" default="base_link"/>

        <machine
            name="control_machine"
            address="192.168.3.52" 
            env-loader="/opt/ros/noetic/env_remote.sh"
            default="true"
            user="ubuntu"
        />
        <machine           
            name="rpi_main_machine"
            address="192.168.3.127" 
            env-loader="/opt/ros/noetic/env_remote.sh"
            default="true"
            user="ubuntu"
        />
        <machine           
            name="main_machine"
            address="192.168.3.22" 
            env-loader="/opt/ros/noetic/env_remote.sh"
            default="true"
            user="john"
        />
        <include file="$(find carrier_ros_servo)/launch/carrier_ros_dynamixel.launch">
            <arg name="machine" default="control_machine"/>
            <arg name="usb_port"                default="/dev/ttyDYNAMIXEL"/>
            <arg name="dxl_baud_rate"           default="57600"/>
        </include>

    </group>

</launch>